<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Emiliano Ramirez | Contact</title>
        <link rel="stylesheet" href="css/style.css">
        <script src="js/script.js" defer></script>
    </head>

    <body>
        <header  class="sticky">
            <nav id="nav-bar">
                <h1><a href="index.html">EMILIANO RAMIREZ</a></h1>

                <a href="#" class="nav-btn">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </a>

                <div class="nav-links">
                    <ul>
                        <li><a href="index.html">home</a></li>
                        <li><a href="projects.html">projects</a></li>
                        <!-- <li><a href="speedruns.html">speedruns</a></li> -->
                        <li><a href="about.html">about</a></li>
                        <li><a href="contact.html" class="open">contact</a></li>
                        <!-- <li><input class = "btn" type = "button" name = "nightmode" value = button></li> -->
                    </ul>  
                </div>
            </nav>   
        </header>

        <div class="form-container">
            <h2>Contact Me</h2>
            <div class="form-wrapper">
                <div class="info">
                    <h3>Emiliano Ramirez</h3>
                    <ul>
                        <li><p>If you think I would make a good fit for your team, have any questions, or just want 
                            to say hi, feel free to email me and I will respond as soon as possible.
                        </p></li>
                        
                        <li><p>If you prefer to contact me elsewhere, you can message me on...
                        </p></li>
                        
                        <li><a href="https://www.github.com/black112301/" target="_blank">github</a></li>
                        <li><a href="https://www.instagram.com/black112301/" target="_blank">instagram</a></li>
                        <li><a href="#" target="_blank">linkedin</a></li>
                    </ul>
                </div>
                <div class="contact">
                    <form id="c-form">
                        <p>
                            <label>Name</label>
                            <input id="name" type="text" name="name">
                        </p>
                        <p>
                            <label>Company</label>
                            <input id="company" type="text" name="company" placeholder="optional">
                        </p>
                        <p>
                            <label>Email Address</label>
                            <input id="email" type="email" name="email">
                        </p>
                        <p>
                            <label>Phone Number</label>
                            <input id="phone" type="text" name="phone" placeholder="optional">
                        </p>
                        <p class="full">
                            <label>Message</label>
                            <textarea id="message" name="message" cols="30" rows="10"></textarea>
                        </p>
                        <p class="full">
                            <button>Submit</button>
                        </p>    
                    </form>
                </div>
            </div>
            <div id="c-error"></div>
        </div>

        <footer>
            Copyright &copy 2021, Emiram created by Emiliano Ramirez.
        </footer>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>
            $('form').on('submit', (e) => {
                e.preventDefault();
                
                const email = $('#email').val().trim();
                const subject = 'EMIRAM mail from ' + $('#name').val().trim() + ', ' + $('#phone').val().trim() + ', ' +  $('#company').val().trim();
                const text = $('#message').val().trim();

                const data = {
                    email,
                    subject,
                    text
                }

                $.post('/email', data, () => {
                    console.log('data recieved boi');
                })
            })
        </script>
    </body>
</html>